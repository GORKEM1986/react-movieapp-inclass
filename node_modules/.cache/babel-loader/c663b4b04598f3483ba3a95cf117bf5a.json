{"ast":null,"code":"var _jsxFileName = \"/Users/fatihgorkem/Desktop/react-movie/src/pages/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport MovieCard from \"../components/MovieCard\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { MovieContext } from \"../context/MovieContext\";\nimport { toastWarnNotify } from \"../helpers/ToastNotify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_KEY = process.env.REACT_APP_TMDB_KEY;\nconst SEARCH_API = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=`;\n\nconst Main = () => {\n  _s();\n\n  const {\n    movies,\n    loading,\n    getMovies\n  } = useContext(MovieContext);\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (currentUser && searchTerm) {\n      getMovies(SEARCH_API + searchTerm);\n    } else if (!currentUser) {\n      toastWarnNotify(\"Please logg in to serach a movie\");\n      navigate(\"/login\");\n    } else {\n      toastWarnNotify(\"Please enter a text\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex justify-center p-2\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        className: \"w-80 h-8 rounded-md p-1 m-2\",\n        placeholder: \"Search a movie...\",\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-danger-bordered\",\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center flex-wrap\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full text-blue-600 mt-52\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this) : movies.map(movie => /*#__PURE__*/_jsxDEV(MovieCard, { ...movie\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Main, \"YN2BrkZMCPlDqsPxsrg98Boiw6I=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/fatihgorkem/Desktop/react-movie/src/pages/Main.jsx"],"names":["React","useContext","useState","useNavigate","MovieCard","AuthContext","MovieContext","toastWarnNotify","API_KEY","process","env","REACT_APP_TMDB_KEY","SEARCH_API","Main","movies","loading","getMovies","currentUser","searchTerm","setSearchTerm","navigate","handleSubmit","e","preventDefault","target","value","map","movie","id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,SAASC,eAAT,QAAgC,wBAAhC;;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA5B;AACA,MAAMC,UAAU,GAAI,qDAAoDJ,OAAQ,SAAhF;;AAEA,MAAMK,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,OAAV;AAAmBC,IAAAA;AAAnB,MAAiCf,UAAU,CAACK,YAAD,CAAjD;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAkBhB,UAAU,CAACI,WAAD,CAAlC;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAMkB,QAAQ,GAAGjB,WAAW,EAA5B;;AAEA,QAAMkB,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAIN,WAAW,IAAIC,UAAnB,EAA+B;AAC7BF,MAAAA,SAAS,CAACJ,UAAU,GAAGM,UAAd,CAAT;AACD,KAFD,MAEO,IAAI,CAACD,WAAL,EAAkB;AACvBV,MAAAA,eAAe,CAAC,kCAAD,CAAf;AACAa,MAAAA,QAAQ,CAAC,QAAD,CAAR;AACD,KAHM,MAGA;AACLb,MAAAA,eAAe,CAAC,qBAAD,CAAf;AACD;AACF,GAVD;;AAYA,sBACE;AAAA,4BACE;AAAM,MAAA,SAAS,EAAC,yBAAhB;AAA0C,MAAA,QAAQ,EAAEc,YAApD;AAAA,8BACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,6BAFZ;AAGE,QAAA,WAAW,EAAC,mBAHd;AAIE,QAAA,QAAQ,EAAGC,CAAD,IAAOH,aAAa,CAACG,CAAC,CAACE,MAAF,CAASC,KAAV;AAJhC;AAAA;AAAA;AAAA;AAAA,cADF,eAOE;AAAQ,QAAA,SAAS,EAAC,qBAAlB;AAAwC,QAAA,IAAI,EAAC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAaE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA,gBACGV,OAAO,gBACN;AACE,QAAA,SAAS,EAAC,4FADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAAA,+BAIE;AAAM,UAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,cADM,GAQND,MAAM,CAACY,GAAP,CAAYC,KAAD,iBAAW,QAAC,SAAD,OAA8BA;AAA9B,SAAgBA,KAAK,CAACC,EAAtB;AAAA;AAAA;AAAA;AAAA,cAAtB;AATJ;AAAA;AAAA;AAAA;AAAA,YAbF;AAAA,kBADF;AA4BD,CA9CD;;GAAMf,I;UAIaV,W;;;KAJbU,I;AAgDN,eAAeA,IAAf","sourcesContent":["import React from \"react\";\nimport { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport MovieCard from \"../components/MovieCard\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { MovieContext } from \"../context/MovieContext\";\nimport { toastWarnNotify } from \"../helpers/ToastNotify\";\n\nconst API_KEY = process.env.REACT_APP_TMDB_KEY;\nconst SEARCH_API = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=`;\n\nconst Main = () => {\n  const { movies, loading, getMovies } = useContext(MovieContext);\n  const { currentUser } = useContext(AuthContext);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const navigate = useNavigate()\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (currentUser && searchTerm) {\n      getMovies(SEARCH_API + searchTerm);\n    } else if (!currentUser) {\n      toastWarnNotify(\"Please logg in to serach a movie\");\n      navigate(\"/login\")\n    } else {\n      toastWarnNotify(\"Please enter a text\");\n    }\n  };\n\n  return (\n    <>\n      <form className=\"flex justify-center p-2\" onSubmit={handleSubmit}>\n        <input\n          type=\"search\"\n          className=\"w-80 h-8 rounded-md p-1 m-2\"\n          placeholder=\"Search a movie...\"\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <button className=\"btn-danger-bordered\" type=\"submit\">\n          Search\n        </button>\n      </form>\n\n      <div className=\"flex justify-center flex-wrap\">\n        {loading ? (\n          <div\n            className=\"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full text-blue-600 mt-52\"\n            role=\"status\"\n          >\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        ) : (\n          movies.map((movie) => <MovieCard key={movie.id} {...movie} />)\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}